<app-server-error *ngIf="error" [nameError]="'Subscriptions not available'"></app-server-error>

<span class="badge badge-info ml-3">Subscriptions</span>
<div *ngIf="!error" class="shadow-lg p-4 mb-4 bg-white ml-3 mr-3">
    <table class="table">
        <thead class="thead-light">
        <tr>
            <th>Number</th>
            <th>Name of subscription</th>
            <th>
                <div *ngIf="id > 0">Status</div>
            </th>
            <th>Cost</th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let product of products; let idx = index">
            <td>{{idx + productPerPage * (page - 1) + 1}}</td>
            <td>{{product.name}}</td>
            <td>
                <div *ngIf="id > 0">
                    <div *ngIf="product.status"><b>ON</b></div>
                    <div *ngIf="!product.status"><b>OFF</b></div>
                </div>
            </td>
            <td>{{product.cost}}</td>
        </tr>
        </tbody>
    </table>
</div>

<div *ngIf="countProducts && products">
    <div class="d-flex">
        <div class="dropup dropright ml-3">
            <button type="button" class="btn btn-outline-danger dropdown-toggle small" data-toggle="dropdown">
                {{productPerPage}}
            </button>
            <div class="dropdown-menu">
                <a class="dropdown-item" (click)="changePageSize(3)">3</a>
                <a class="dropdown-item" (click)="changePageSize(5)">5</a>
                <a class="dropdown-item" (click)="changePageSize(7)">7</a>
                <a class="dropdown-item" (click)="changePageSize(10)">10</a>

            </div>
        </div>

        <div class="btn-group btn-group-sm ml-auto mr-3">
            <button *ngFor="let page of pageNumbers" (click)="changePage(page)"
                    class="btn btn-outline-danger" [class.active]="page == selectedPage">
                {{page}}
            </button>
        </div>
    </div>
</div>

<button class="btn btn-danger btn-sm ml-3 my-3" type="button" routerLink="/admin">Return to Admin Account</button>
